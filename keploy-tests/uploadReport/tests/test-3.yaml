version: api.keploy.io/v1beta1
kind: Http
name: test-3
spec:
    metadata: {}
    req:
        method: POST
        proto_major: 1
        proto_minor: 1
        url: http://localhost:8083/test/report
        header:
            Accept-Encoding: gzip
            Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IiIsInVzZXJJZCI6IjY0NTAxN2Q1Nzg3MzFjOWQ3NTA3OGIwZiIsImVtYWlsIjoiZ291cmF2QGtlcGxveS5pbyIsInJvbGUiOiJBRE1JTiIsInN0YXR1cyI6IkFDVElWRSIsImNpZCI6ImtlcGxveS5pbyIsImZlYXR1cmVGbGFncyI6eyJFTlRFUlBSSVNFX0NPTlNPTEUiOnRydWUsIlVTRVJfTUFOQUdFTUVOVCI6dHJ1ZX0sImV4cCI6MTcyODA0ODUwOH0.ycHexwQ7OynYi4D4BdDtdRrWQiYj7JDWraVUQtVwW9Q
            Content-Type: application/json
            Host: localhost:8083
            User-Agent: Go-http-client/1.1
        body: '{"id":"94f0173d-6be1-4146-8f1d-8e7061e24c5e","testSetName":"test-set-1","testRunName":"test-run-11","createdBy":{"email":"gourav@keploy.io","userId":"","cid":"keploy.io"},"createdAt":1726752527,"ossReport":{"version":"api.keploy.io/v1beta1","name":"test-set-1-report","status":"PASSED","success":2,"failure":0,"ignored":0,"total":2,"tests":[{"kind":"Http","name":"test-set-1","status":"PASSED","started":1726752527,"completed":1726752527,"testCasePath":"/Users/gouravkumar/Desktop/Keploy/Lima-workspace/gk_workspace/OnCallApps/go-urlshortner/keploy/test-set-1","mockPath":"/Users/gouravkumar/Desktop/Keploy/Lima-workspace/gk_workspace/OnCallApps/go-urlshortner/keploy/test-set-1/mocks.yaml","testCaseID":"test-1","req":{"method":"POST","proto_major":1,"proto_minor":1,"url":"http://localhost:9090/shorten","url_params":null,"header":{"Accept":"*/*","Content-Length":"28","Content-Type":"application/json","Host":"localhost:9090","User-Agent":"curl/7.88.1"},"body":"{\"url\": \"https://apple.com\"}","binary":"","form":null,"timestamp":"2024-09-16T13:27:23.502384305+05:30"},"resp":{"status_code":200,"header":{"Content-Length":"103","Content-Type":"application/json; charset=UTF-8","Date":"Thu, 19 Sep 2024 13:28:47 GMT"},"body":"{\"id\":3,\"shortcode\":\"4yEo44Zq\",\"url\":\"https://apple.com\",\"updated_at\":\"2024-09-19T18:58:47.849+05:30\"}\n","status_message":"","proto_major":0,"proto_minor":0,"binary":"","timestamp":"0001-01-01T00:00:00Z"},"noise":{"body.updated_at":[],"header.Date":[]},"result":{"status_code":{"normal":true,"expected":200,"actual":200},"headers_result":[{"normal":true,"expected":{"key":"Date","value":["Mon, 16 Sep 2024 07:57:23 GMT"]},"actual":{"key":"Date","value":["Thu, 19 Sep 2024 13:28:47 GMT"]}},{"normal":true,"expected":{"key":"Content-Length","value":["103"]},"actual":{"key":"Content-Length","value":["103"]}},{"normal":true,"expected":{"key":"Content-Type","value":["application/json; charset=UTF-8"]},"actual":{"key":"Content-Type","value":["application/json; charset=UTF-8"]}}],"body_result":[{"normal":true,"type":"JSON","expected":"{\"id\":3,\"shortcode\":\"4yEo44Zq\",\"url\":\"https://apple.com\",\"updated_at\":\"2024-09-16T13:27:23.504+05:30\"}\n","actual":"{\"id\":3,\"shortcode\":\"4yEo44Zq\",\"url\":\"https://apple.com\",\"updated_at\":\"2024-09-19T18:58:47.849+05:30\"}\n"}],"dep_result":[]}},{"kind":"Http","name":"test-set-1","status":"PASSED","started":1726752527,"completed":1726752527,"testCasePath":"/Users/gouravkumar/Desktop/Keploy/Lima-workspace/gk_workspace/OnCallApps/go-urlshortner/keploy/test-set-1","mockPath":"/Users/gouravkumar/Desktop/Keploy/Lima-workspace/gk_workspace/OnCallApps/go-urlshortner/keploy/test-set-1/mocks.yaml","testCaseID":"test-2","req":{"method":"GET","proto_major":1,"proto_minor":1,"url":"http://localhost:9090/resolve/4yEo44Zq","url_params":null,"header":{"Accept":"*/*","Host":"localhost:9090","User-Agent":"curl/7.88.1"},"body":"","binary":"","form":null,"timestamp":"2024-09-16T13:27:38.511301178+05:30"},"resp":{"status_code":200,"header":{"Content-Length":"103","Content-Type":"application/json; charset=UTF-8","Date":"Thu, 19 Sep 2024 13:28:47 GMT"},"body":"{\"id\":3,\"shortcode\":\"4yEo44Zq\",\"url\":\"https://apple.com\",\"updated_at\":\"2024-09-16T13:27:23.504+05:30\"}\n","status_message":"","proto_major":0,"proto_minor":0,"binary":"","timestamp":"0001-01-01T00:00:00Z"},"noise":{"body.updated_at":[],"header.Date":[]},"result":{"status_code":{"normal":true,"expected":200,"actual":200},"headers_result":[{"normal":true,"expected":{"key":"Date","value":["Mon, 16 Sep 2024 07:57:38 GMT"]},"actual":{"key":"Date","value":["Thu, 19 Sep 2024 13:28:47 GMT"]}},{"normal":true,"expected":{"key":"Content-Length","value":["103"]},"actual":{"key":"Content-Length","value":["103"]}},{"normal":true,"expected":{"key":"Content-Type","value":["application/json; charset=UTF-8"]},"actual":{"key":"Content-Type","value":["application/json; charset=UTF-8"]}}],"body_result":[{"normal":true,"type":"JSON","expected":"{\"id\":3,\"shortcode\":\"4yEo44Zq\",\"url\":\"https://apple.com\",\"updated_at\":\"2024-09-16T13:27:23.504+05:30\"}\n","actual":"{\"id\":3,\"shortcode\":\"4yEo44Zq\",\"url\":\"https://apple.com\",\"updated_at\":\"2024-09-16T13:27:23.504+05:30\"}\n"}],"dep_result":[]}}],"testSet":"test-set-1"},"appId":"go-urlshortner","emailId":"gourav@keploy.io","totalTestSets":2,"isLastTestSet":true,"passedSetCnt":2,"totTestPassed":8,"totTestFailed":0,"totTestIgnored":0,"failedSetCnt":0,"ignoredSetCnt":0,"coverage":{"fileCoverage":{"github.com/kingster/go-urlshortner/main.go":"88.10%","github.com/kingster/go-urlshortner/uss/short.go":"100.00%","github.com/kingster/go-urlshortner/uss/store.go":"77.78%"},"totalCoverage":"86.08%"}}'
        timestamp: 2024-09-19T18:58:47.990769771+05:30
    resp:
        status_code: 200
        header:
            Content-Length: "30"
            Content-Type: application/json; charset=utf-8
            Date: Thu, 19 Sep 2024 13:28:53 GMT
            Vary: Origin
        body: |
            {"isSuccess":true,"error":""}
        status_message: OK
        proto_major: 0
        proto_minor: 0
        timestamp: 2024-09-19T18:58:55.216894092+05:30
    objects: []
    assertions:
        noise:
            header.Date: []
    created: 1726752535
curl: |-
    curl --request POST \
      --url http://localhost:8083/test/report \
      --header 'Accept-Encoding: gzip' \
      --header 'Host: localhost:8083' \
      --header 'User-Agent: Go-http-client/1.1' \
      --header 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6IiIsInVzZXJJZCI6IjY0NTAxN2Q1Nzg3MzFjOWQ3NTA3OGIwZiIsImVtYWlsIjoiZ291cmF2QGtlcGxveS5pbyIsInJvbGUiOiJBRE1JTiIsInN0YXR1cyI6IkFDVElWRSIsImNpZCI6ImtlcGxveS5pbyIsImZlYXR1cmVGbGFncyI6eyJFTlRFUlBSSVNFX0NPTlNPTEUiOnRydWUsIlVTRVJfTUFOQUdFTUVOVCI6dHJ1ZX0sImV4cCI6MTcyODA0ODUwOH0.ycHexwQ7OynYi4D4BdDtdRrWQiYj7JDWraVUQtVwW9Q' \
      --header 'Content-Type: application/json' \
      --data "{\"id\":\"94f0173d-6be1-4146-8f1d-8e7061e24c5e\",\"testSetName\":\"test-set-1\",\"testRunName\":\"test-run-11\",\"createdBy\":{\"email\":\"gourav@keploy.io\",\"userId\":\"\",\"cid\":\"keploy.io\"},\"createdAt\":1726752527,\"ossReport\":{\"version\":\"api.keploy.io/v1beta1\",\"name\":\"test-set-1-report\",\"status\":\"PASSED\",\"success\":2,\"failure\":0,\"ignored\":0,\"total\":2,\"tests\":[{\"kind\":\"Http\",\"name\":\"test-set-1\",\"status\":\"PASSED\",\"started\":1726752527,\"completed\":1726752527,\"testCasePath\":\"/Users/gouravkumar/Desktop/Keploy/Lima-workspace/gk_workspace/OnCallApps/go-urlshortner/keploy/test-set-1\",\"mockPath\":\"/Users/gouravkumar/Desktop/Keploy/Lima-workspace/gk_workspace/OnCallApps/go-urlshortner/keploy/test-set-1/mocks.yaml\",\"testCaseID\":\"test-1\",\"req\":{\"method\":\"POST\",\"proto_major\":1,\"proto_minor\":1,\"url\":\"http://localhost:9090/shorten\",\"url_params\":null,\"header\":{\"Accept\":\"*/*\",\"Content-Length\":\"28\",\"Content-Type\":\"application/json\",\"Host\":\"localhost:9090\",\"User-Agent\":\"curl/7.88.1\"},\"body\":\"{\\\"url\\\": \\\"https://apple.com\\\"}\",\"binary\":\"\",\"form\":null,\"timestamp\":\"2024-09-16T13:27:23.502384305+05:30\"},\"resp\":{\"status_code\":200,\"header\":{\"Content-Length\":\"103\",\"Content-Type\":\"application/json; charset=UTF-8\",\"Date\":\"Thu, 19 Sep 2024 13:28:47 GMT\"},\"body\":\"{\\\"id\\\":3,\\\"shortcode\\\":\\\"4yEo44Zq\\\",\\\"url\\\":\\\"https://apple.com\\\",\\\"updated_at\\\":\\\"2024-09-19T18:58:47.849+05:30\\\"}\\n\",\"status_message\":\"\",\"proto_major\":0,\"proto_minor\":0,\"binary\":\"\",\"timestamp\":\"0001-01-01T00:00:00Z\"},\"noise\":{\"body.updated_at\":[],\"header.Date\":[]},\"result\":{\"status_code\":{\"normal\":true,\"expected\":200,\"actual\":200},\"headers_result\":[{\"normal\":true,\"expected\":{\"key\":\"Date\",\"value\":[\"Mon, 16 Sep 2024 07:57:23 GMT\"]},\"actual\":{\"key\":\"Date\",\"value\":[\"Thu, 19 Sep 2024 13:28:47 GMT\"]}},{\"normal\":true,\"expected\":{\"key\":\"Content-Length\",\"value\":[\"103\"]},\"actual\":{\"key\":\"Content-Length\",\"value\":[\"103\"]}},{\"normal\":true,\"expected\":{\"key\":\"Content-Type\",\"value\":[\"application/json; charset=UTF-8\"]},\"actual\":{\"key\":\"Content-Type\",\"value\":[\"application/json; charset=UTF-8\"]}}],\"body_result\":[{\"normal\":true,\"type\":\"JSON\",\"expected\":\"{\\\"id\\\":3,\\\"shortcode\\\":\\\"4yEo44Zq\\\",\\\"url\\\":\\\"https://apple.com\\\",\\\"updated_at\\\":\\\"2024-09-16T13:27:23.504+05:30\\\"}\\n\",\"actual\":\"{\\\"id\\\":3,\\\"shortcode\\\":\\\"4yEo44Zq\\\",\\\"url\\\":\\\"https://apple.com\\\",\\\"updated_at\\\":\\\"2024-09-19T18:58:47.849+05:30\\\"}\\n\"}],\"dep_result\":[]}},{\"kind\":\"Http\",\"name\":\"test-set-1\",\"status\":\"PASSED\",\"started\":1726752527,\"completed\":1726752527,\"testCasePath\":\"/Users/gouravkumar/Desktop/Keploy/Lima-workspace/gk_workspace/OnCallApps/go-urlshortner/keploy/test-set-1\",\"mockPath\":\"/Users/gouravkumar/Desktop/Keploy/Lima-workspace/gk_workspace/OnCallApps/go-urlshortner/keploy/test-set-1/mocks.yaml\",\"testCaseID\":\"test-2\",\"req\":{\"method\":\"GET\",\"proto_major\":1,\"proto_minor\":1,\"url\":\"http://localhost:9090/resolve/4yEo44Zq\",\"url_params\":null,\"header\":{\"Accept\":\"*/*\",\"Host\":\"localhost:9090\",\"User-Agent\":\"curl/7.88.1\"},\"body\":\"\",\"binary\":\"\",\"form\":null,\"timestamp\":\"2024-09-16T13:27:38.511301178+05:30\"},\"resp\":{\"status_code\":200,\"header\":{\"Content-Length\":\"103\",\"Content-Type\":\"application/json; charset=UTF-8\",\"Date\":\"Thu, 19 Sep 2024 13:28:47 GMT\"},\"body\":\"{\\\"id\\\":3,\\\"shortcode\\\":\\\"4yEo44Zq\\\",\\\"url\\\":\\\"https://apple.com\\\",\\\"updated_at\\\":\\\"2024-09-16T13:27:23.504+05:30\\\"}\\n\",\"status_message\":\"\",\"proto_major\":0,\"proto_minor\":0,\"binary\":\"\",\"timestamp\":\"0001-01-01T00:00:00Z\"},\"noise\":{\"body.updated_at\":[],\"header.Date\":[]},\"result\":{\"status_code\":{\"normal\":true,\"expected\":200,\"actual\":200},\"headers_result\":[{\"normal\":true,\"expected\":{\"key\":\"Date\",\"value\":[\"Mon, 16 Sep 2024 07:57:38 GMT\"]},\"actual\":{\"key\":\"Date\",\"value\":[\"Thu, 19 Sep 2024 13:28:47 GMT\"]}},{\"normal\":true,\"expected\":{\"key\":\"Content-Length\",\"value\":[\"103\"]},\"actual\":{\"key\":\"Content-Length\",\"value\":[\"103\"]}},{\"normal\":true,\"expected\":{\"key\":\"Content-Type\",\"value\":[\"application/json; charset=UTF-8\"]},\"actual\":{\"key\":\"Content-Type\",\"value\":[\"application/json; charset=UTF-8\"]}}],\"body_result\":[{\"normal\":true,\"type\":\"JSON\",\"expected\":\"{\\\"id\\\":3,\\\"shortcode\\\":\\\"4yEo44Zq\\\",\\\"url\\\":\\\"https://apple.com\\\",\\\"updated_at\\\":\\\"2024-09-16T13:27:23.504+05:30\\\"}\\n\",\"actual\":\"{\\\"id\\\":3,\\\"shortcode\\\":\\\"4yEo44Zq\\\",\\\"url\\\":\\\"https://apple.com\\\",\\\"updated_at\\\":\\\"2024-09-16T13:27:23.504+05:30\\\"}\\n\"}],\"dep_result\":[]}}],\"testSet\":\"test-set-1\"},\"appId\":\"go-urlshortner\",\"emailId\":\"gourav@keploy.io\",\"totalTestSets\":2,\"isLastTestSet\":true,\"passedSetCnt\":2,\"totTestPassed\":8,\"totTestFailed\":0,\"totTestIgnored\":0,\"failedSetCnt\":0,\"ignoredSetCnt\":0,\"coverage\":{\"fileCoverage\":{\"github.com/kingster/go-urlshortner/main.go\":\"88.10%\",\"github.com/kingster/go-urlshortner/uss/short.go\":\"100.00%\",\"github.com/kingster/go-urlshortner/uss/store.go\":\"77.78%\"},\"totalCoverage\":\"86.08%\"}}"
